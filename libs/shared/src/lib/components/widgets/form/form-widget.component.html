<!-- Widget header -->
<ng-template #headerTemplate>
  <span class="widget-title" [title]="settings.title">{{
    settings.title
  }}</span>
</ng-template>

<!-- Loading indicator -->
<ui-spinner
  class="flex justify-center items-center !h-full"
  *ngIf="loading"
></ui-spinner>
<ng-container *ngIf="!loading && form">
  <!-- Embedded form -->
  <shared-form
    [form]="form"
    [floatingActions]="settings?.floatingActions"
    [record]="record"
    [mapQuestionState]="settings?.mapQuestionState"
    [mode]="mode"
    (save)="onComplete($event)"
  ></shared-form>
  <!-- New record button -->
  <ng-container *ngIf="completed && !form.uniqueRecord && !hideNewRecord">
    <ui-button category="secondary" (click)="clearForm()" class="mt-2 m-auto">{{
      'models.record.new' | translate
    }}</ui-button>
  </ng-container>
</ng-container>
