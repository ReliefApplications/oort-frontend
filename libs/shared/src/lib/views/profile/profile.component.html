<form [formGroup]="userForm" *ngIf="userForm">
  <h1>{{ 'pages.profile.title' | translate }}</h1>
  <!-- User details -->
  <div class="flex flex-col bg-white p-8 rounded-xl shadow-2xs mb-8">
    <div class="flex gap-6 flex-wrap">
      <div uiFormFieldDirective class="flex-1" [outline]="true">
        <label>
          {{ 'models.user.firstName' | translate }}
        </label>
        <input formControlName="firstName" type="text" />
      </div>
      <div uiFormFieldDirective class="flex-1" [outline]="true">
        <label>
          {{ 'models.user.lastName' | translate }}
        </label>
        <input formControlName="lastName" type="text" />
      </div>
      <div uiFormFieldDirective class="flex-1" [outline]="true">
        <label>
          {{ 'models.user.username' | translate }}
        </label>
        <input formControlName="username" type="text" />
      </div>
    </div>
    <div class="flex">
      <ui-button
        category="secondary"
        shape="round"
        variant="primary"
        icon="key"
        [isOutlined]="true"
        class="mt-1.5"
        (click)="updatePassword()"
      >
        {{ 'pages.profile.password.change' | translate }}
      </ui-button>
    </div>
  </div>
  <h2 class="text-light-200 font-semibold">
    {{ 'common.application.few' | translate }} ({{ user.applications.length }})
  </h2>
  <!-- Application summary container -->
  <shared-applications-summary
    class="block mb-14"
    [loading]="loading"
    [applications]="user.applications"
    (openApplication)="onOpenApplication($event)"
    [isProfile]="true"
    [user]="user"
    (favorite)="onSelectFavorite($event)"
  ></shared-applications-summary>
  <!-- Floating div for actions buttons -->
  <ui-fixed-wrapper>
    <!-- Save button -->
    <ui-button
      category="secondary"
      variant="primary"
      shape="round"
      (click)="onSubmit()"
      [disabled]="userForm.invalid || !userForm.dirty"
    >
      {{ 'common.saveChanges' | translate }}
    </ui-button>
  </ui-fixed-wrapper>
</form>
